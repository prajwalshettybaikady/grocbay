{% extends '@AppBundle/Admin/base.html.twig' %}
{% block styles %}

<link href="/assets/plugins/bootstrap-material-datetimepicker/css/bootstrap-material-datetimepicker.css" rel="stylesheet">
{% endblock %}
{% block body %}
<div id="delivery-pay-app">
    <!-- ============================================================== -->
    <!-- Start Page Content -->
    <!-- ============================================================== -->


    <div class="row">
        <div class="col-lg-5 col-md-5">
            <div class="card card-default">
                <div class="card-header">
                    <div class="card-actions">
                        <a class="btn-minimize" data-action="expand"><i class="mdi mdi-arrow-expand"></i></a>                    </div>
                    <h4 class="card-title m-b-0">Payment form</h4>
                </div>
                <div class="card-body collapse show">
                    <div class="form-group">
                        <label for="">Restaurants</label>
                        <select name="" id="" class="form-control" v-model="presentRestaurant" v-on:change="validateSelect">
                            <option value="">Please select a Restaurant</option>
                            <option v-for="rest in pendingRestaurants" v-bind:value="rest.id" v-if="rest.balance>0"><% rest.value %></option>
                        </select>
                        <p class="text-danger" v-show="selectError"><small>Restaurant must be selected</small></p>
                    </div>
                    <div class="form-group">
                        <label for="">Balance</label>
                        <input type="text" name="" id="" class="form-control" readonly v-model="pendingAmount">
                    </div>
                    <div class="form-group">
                        <label for="">Pay amount</label>
                        <input type="text" name="" id="" class="form-control" v-model="payAmount" v-on:click="validatePay">
                    </div>
                    <button type="button" v-bind:disabled="checkForm" class="btn btn-primary" v-on:click="payBill()">Pay now</button>
                </div>
            </div>
        </div>
        <div class="col-lg-7 col-md-7">
            <div class="card card-default">
                <div class="card-header">
                    <div class="card-actions">
                        <a class="btn-minimize" data-action="expand"><i class="mdi mdi-arrow-expand"></i></a>                    </div>
                    <h4 class="card-title m-b-0">Restaurants</h4>
                </div>
                <div class="card-body collapse show">
                    <table class="table table-hovered">
                        <tr>
                            <th>Name</th>
                            <th>Balance(Rs.)</th>
                        </tr>
                        <tr v-for="rest in pendingRestaurants">
                            <td><% rest.value %></td>
                            <td><% rest.balance %></td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="/assets/plugins/moment/moment.js"></script>
<script src="/assets/plugins/bootstrap-material-datetimepicker/js/bootstrap-material-datetimepicker.js"></script>
<script src="/assets/vue/custom/restaurant-pay.js"></script>
<script>
</script>
{% endblock %}