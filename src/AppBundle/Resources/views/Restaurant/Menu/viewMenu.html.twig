{% extends '@AppBundle/Admin/base.html.twig' %}

{% block body %}

<!-- Modal -->
<div id="uploadCSV" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Upload Menu Items</h4>
      </div>
      <div class="modal-body">
        <p><form>
        <input type="file" class="form-control">
        </form></p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>

  </div>
</div>
<div class="row">
    <div class="col-12">
        <div class="card">
                <div class="card-body">
                    <div class="col-xs-12">
                        <span class="pull-right">
                    {#      <a href="#" class="btn btn-primary btn-sm" data-toggle="modal" data-target="#uploadCSV">Upload CSV</a> #}
                        </span>
                    </div>
                    <div class="table-responsive m-t-10">
                                   <form method="post" action="{{ path('bulk_action_items')}}">
                  &nbsp; <div class="product-action form-row">
                    <div class="col-2">
                      <select class="form-control form-control-sm" name="type">
                        <option  value="1">Activate</option>
                        <option  value="0">Deactivate</option>
                        <option  value="2">Delete</option>
                      </select>
                    </div>
                    <div class="col-1">
                    <label><span style="color:transparent;">sss</span></label>
                  <input type="submit" class="btn btn-primary btn-sm" value="Update">
                </div>
                <div class="col-1">
                    <label><span style="color:transparent;">sss</span></label>
                 <a href="{{ path('get_csv') }}"> <input type="button" class="btn btn-primary btn-sm" value="CSV"></a>
                </div>
              </div>
                        <table id="myTable" class="table table-hovered">
                            <thead>
                                <tr>
                                  <th data-orderable="false"><input class="" type="checkbox" id="gridCheck" name="selectThemAll"></th>
                                    <th >id</th>
                                    <th>Product Name</th>
                                    <th>Category</th>
                                    <th>Status</th>
                                    <th>Action</th>
                                </tr>
                            </thead>                          
                        </table>
                      </form>
                    </div>
                </div>
            </div>
    </div>
</div>
{% endblock %}

{% block scripts %}

<script>
  $(function() {
    jQuery("[name=selectThemAll]").click(function(source) { 
        checkboxes = jQuery('.tst');
        for(var i in checkboxes){
            checkboxes[i].checked = source.target.checked;
        }
    });
});
   $(document).ready(function() {
      $('#myTable').DataTable({   
              // "dom": '<"toolbar">frtip',
      'processing': true,
      'serverSide': true,
      "pageLength": 25,
      'serverMethod': 'post',
      'ajax': { 
          'url':"{{ path('view_menu_item')}}?branch={{ app.user.branch }}",
          'type': "post",      },
           'fnDrawCallback': function()
            {
                 // $("#myTable_length").prepend('');
            },
      'columns': [
         { data: 'branch' },
         { data: 'id' },
         { data: 'itemName' },
         { data: 'category' },
         { data: 'isActive' },
         { data: 'view' },
      ],

   });

          // $("div.toolbar").html('<b>Custom tool bar! Text/images etc.</b>');

    });</script>
{% endblock %}
